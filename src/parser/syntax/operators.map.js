"use strict";

let operators = [
    ["=","int4","int8","bool"],
    ["<>","int4","int8","bool"],
    ["!=","int4","int8","bool"],
    ["<","int4","int8","bool"],
    [">","int4","int8","bool"],
    ["<=","int4","int8","bool"],
    [">=","int4","int8","bool"],
    ["<","bool","bool","bool"],
    [">","bool","bool","bool"],
    ["<>","bool","bool","bool"],
    ["!=","bool","bool","bool"],
    ["=","bool","bool","bool"],
    ["<=","bool","bool","bool"],
    [">=","bool","bool","bool"],
    ["=","char","char","bool"],
    ["=","name","name","bool"],
    ["=","int2","int2","bool"],
    ["<","int2","int2","bool"],
    ["=","int4","int4","bool"],
    ["<","int4","int4","bool"],
    ["=","text","text","bool"],
    ["||","anyarray","anyelement","anyarray"],
    ["||","anyelement","anyarray","anyarray"],
    ["||","anyarray","anyarray","anyarray"],
    ["=","xid","xid","bool"],
    ["=","xid","int4","bool"],
    ["<>","xid","xid","bool"],
    ["!=","xid","xid","bool"],
    ["<>","xid","int4","bool"],
    ["!=","xid","int4","bool"],
    ["!","int8","","numeric"],
    ["!!","","int8","numeric"],
    ["=","cid","cid","bool"],
    ["=","int2vector","int2vector","bool"],
    ["=","tid","tid","bool"],
    ["<>","tid","tid","bool"],
    ["!=","tid","tid","bool"],
    ["<","tid","tid","bool"],
    [">","tid","tid","bool"],
    ["<=","tid","tid","bool"],
    [">=","tid","tid","bool"],
    ["=","int8","int8","bool"],
    ["<>","int8","int8","bool"],
    ["!=","int8","int8","bool"],
    ["<","int8","int8","bool"],
    [">","int8","int8","bool"],
    ["<=","int8","int8","bool"],
    [">=","int8","int8","bool"],
    ["=","int8","int4","bool"],
    ["<>","int8","int4","bool"],
    ["!=","int8","int4","bool"],
    ["<","int8","int4","bool"],
    [">","int8","int4","bool"],
    ["<=","int8","int4","bool"],
    [">=","int8","int4","bool"],
    ["%","int8","int8","int8"],
    ["@","","int8","int8"],
    ["-","","int8","int8"],
    ["-","","integer","integer"],
    ["<<","polygon","polygon","bool"],
    ["&<","polygon","polygon","bool"],
    ["&>","polygon","polygon","bool"],
    [">>","polygon","polygon","bool"],
    ["<@","polygon","polygon","bool"],
    ["@>","polygon","polygon","bool"],
    ["~=","polygon","polygon","bool"],
    ["&&","polygon","polygon","bool"],
    ["<<","box","box","bool"],
    ["&<","box","box","bool"],
    ["&>","box","box","bool"],
    [">>","box","box","bool"],
    ["<@","box","box","bool"],
    ["@>","box","box","bool"],
    ["~=","box","box","bool"],
    ["&&","box","box","bool"],
    [">=","box","box","bool"],
    [">","box","box","bool"],
    ["=","box","box","bool"],
    ["<","box","box","bool"],
    ["<=","box","box","bool"],
    [">^","point","point","bool"],
    ["<<","point","point","bool"],
    [">>","point","point","bool"],
    ["<^","point","point","bool"],
    ["~=","point","point","bool"],
    ["<@","point","box","bool"],
    ["@>","box","point","bool"],
    ["<@","point","path","bool"],
    ["@@","","box","point"],
    ["*","int4","int4","int4"],
    ["<->","point","point","float8"],
    ["<>","int4","int4","bool"],
    ["!=","int4","int4","bool"],
    ["<>","int2","int2","bool"],
    ["!=","int2","int2","bool"],
    [">","int2","int2","bool"],
    [">","int4","int4","bool"],
    ["<=","int2","int2","bool"],
    ["<=","int4","int4","bool"],
    [">=","int2","int2","bool"],
    [">=","int4","int4","bool"],
    ["*","int2","int2","int2"],
    ["/","int2","int2","int2"],
    ["/","int4","int4","int4"],
    ["%","int2","int2","int2"],
    ["%","int4","int4","int4"],
    ["<>","text","text","bool"],
    ["!=","text","text","bool"],
    ["=","int2","int4","bool"],
    ["=","int4","int2","bool"],
    ["<","int2","int4","bool"],
    ["<","int4","int2","bool"],
    [">","int2","int4","bool"],
    [">","int4","int2","bool"],
    ["<>","int2","int4","bool"],
    ["!=","int2","int4","bool"],
    ["<>","int4","int2","bool"],
    ["!=","int4","int2","bool"],
    ["<=","int2","int4","bool"],
    ["<=","int4","int2","bool"],
    [">=","int2","int4","bool"],
    [">=","int4","int2","bool"],
    ["*","int2","int4","int4"],
    ["*","int4","int2","int4"],
    ["/","int2","int4","int4"],
    ["/","int4","int2","int4"],
    ["+","int2","int2","int2"],
    ["+","int4","int4","int4"],
    ["+","int2","int4","int4"],
    ["+","int4","int2","int4"],
    ["-","int2","int2","int2"],
    ["-","int4","int4","int4"],
    ["-","int2","int4","int4"],
    ["-","int4","int2","int4"],
    ["-","","int4","int4"],
    ["-","","int2","int2"],
    ["=","abstime","abstime","bool"],
    ["<>","abstime","abstime","bool"],
    ["!=","abstime","abstime","bool"],
    ["<","abstime","abstime","bool"],
    [">","abstime","abstime","bool"],
    ["<=","abstime","abstime","bool"],
    [">=","abstime","abstime","bool"],
    ["=","reltime","reltime","bool"],
    ["<>","reltime","reltime","bool"],
    ["!=","reltime","reltime","bool"],
    ["<","reltime","reltime","bool"],
    [">","reltime","reltime","bool"],
    ["<=","reltime","reltime","bool"],
    [">=","reltime","reltime","bool"],
    ["~=","tinterval","tinterval","bool"],
    ["<<","tinterval","tinterval","bool"],
    ["&&","tinterval","tinterval","bool"],
    ["#=","tinterval","reltime","bool"],
    ["#<>","tinterval","reltime","bool"],
    ["#<","tinterval","reltime","bool"],
    ["#>","tinterval","reltime","bool"],
    ["#<=","tinterval","reltime","bool"],
    ["#>=","tinterval","reltime","bool"],
    ["+","abstime","reltime","abstime"],
    ["-","abstime","reltime","abstime"],
    ["<?>","abstime","tinterval","bool"],
    ["-","","float4","float4"],
    ["-","","float8","float8"],
    ["+","float4","float4","float4"],
    ["-","float4","float4","float4"],
    ["/","float4","float4","float4"],
    ["*","float4","float4","float4"],
    ["@","","float4","float4"],
    ["+","float8","float8","float8"],
    ["-","float8","float8","float8"],
    ["/","float8","float8","float8"],
    ["*","float8","float8","float8"],
    ["@","","float8","float8"],
    ["|/","","float8","float8"],
    ["||/","","float8","float8"],
    ["|","","tinterval","abstime"],
    ["<#>","abstime","abstime","tinterval"],
    ["=","oid","oid","bool"],
    ["<>","oid","oid","bool"],
    ["!=","oid","oid","bool"],
    ["<","oid","oid","bool"],
    [">","oid","oid","bool"],
    ["<=","oid","oid","bool"],
    [">=","oid","oid","bool"],
    ["<>","oidvector","oidvector","bool"],
    ["!=","oidvector","oidvector","bool"],
    ["<","oidvector","oidvector","bool"],
    [">","oidvector","oidvector","bool"],
    ["<=","oidvector","oidvector","bool"],
    [">=","oidvector","oidvector","bool"],
    ["=","oidvector","oidvector","bool"],
    ["<->","point","line","float8"],
    ["<->","point","lseg","float8"],
    ["<->","point","box","float8"],
    ["<->","lseg","line","float8"],
    ["<->","lseg","box","float8"],
    ["<->","point","path","float8"],
    ["=","float4","float4","bool"],
    ["<>","float4","float4","bool"],
    ["!=","float4","float4","bool"],
    ["<","float4","float4","bool"],
    [">","float4","float4","bool"],
    ["<=","float4","float4","bool"],
    [">=","float4","float4","bool"],
    ["<>","char","char","bool"],
    ["!=","char","char","bool"],
    ["<","char","char","bool"],
    ["<=","char","char","bool"],
    [">","char","char","bool"],
    [">=","char","char","bool"],
    ["~","name","text","bool"],
    ["!~","name","text","bool"],
    ["~","text","text","bool"],
    ["!~","text","text","bool"],
    ["<>","name","name","bool"],
    ["!=","name","name","bool"],
    ["||","text","text","text"],
    ["||","text","char","text"],
    ["<","name","name","bool"],
    ["<=","name","name","bool"],
    [">","name","name","bool"],
    [">=","name","name","bool"],
    ["<","text","text","bool"],
    ["<=","text","text","bool"],
    [">","text","text","bool"],
    [">=","text","text","bool"],
    ["=","float8","float8","bool"],
    ["<>","float8","float8","bool"],
    ["!=","float8","float8","bool"],
    ["<","float8","float8","bool"],
    ["<=","float8","float8","bool"],
    [">","float8","float8","bool"],
    [">=","float8","float8","bool"],
    ["@","","int2","int2"],
    ["+","int8","int8","int8"],
    ["-","int8","int8","int8"],
    ["*","int8","int8","int8"],
    ["/","int8","int8","int8"],
    ["+","int8","int4","int8"],
    ["-","int8","int4","int8"],
    ["*","int8","int4","int8"],
    ["/","int8","int4","int8"],
    ["+","int4","int8","int8"],
    ["-","int4","int8","int8"],
    ["*","int4","int8","int8"],
    ["/","int4","int8","int8"],
    ["+","int8","int2","int8"],
    ["-","int8","int2","int8"],
    ["*","int8","int2","int8"],
    ["/","int8","int2","int8"],
    ["+","int2","int8","int8"],
    ["-","int2","int8","int8"],
    ["*","int2","int8","int8"],
    ["/","int2","int8","int8"],
    ["<->","box","box","float8"],
    ["<->","path","path","float8"],
    ["<->","line","line","float8"],
    ["<->","lseg","lseg","float8"],
    ["<->","polygon","polygon","float8"],
    ["<>","point","point","bool"],
    ["!=","point","point","bool"],
    ["+","point","point","point"],
    ["-","point","point","point"],
    ["*","point","point","point"],
    ["/","point","point","point"],
    ["+","path","path","path"],
    ["+","path","point","path"],
    ["-","path","point","path"],
    ["*","path","point","path"],
    ["/","path","point","path"],
    ["@>","path","point","bool"],
    ["<@","point","polygon","bool"],
    ["@>","polygon","point","bool"],
    ["<@","point","circle","bool"],
    ["@>","circle","point","bool"],
    ["@","","int4","int4"],
    ["=","path","path","bool"],
    ["<","path","path","bool"],
    [">","path","path","bool"],
    ["<=","path","path","bool"],
    [">=","path","path","bool"],
    ["#","","path","int4"],
    ["?#","path","path","bool"],
    ["@-@","","path","float8"],
    [">^","box","box","bool"],
    ["<^","box","box","bool"],
    ["?#","box","box","bool"],
    ["#","box","box","box"],
    ["+","box","point","box"],
    ["-","box","point","box"],
    ["*","box","point","box"],
    ["/","box","point","box"],
    ["?-","point","point","bool"],
    ["?|","point","point","bool"],
    ["=","tinterval","tinterval","bool"],
    ["<>","tinterval","tinterval","bool"],
    ["!=","tinterval","tinterval","bool"],
    ["<","tinterval","tinterval","bool"],
    [">","tinterval","tinterval","bool"],
    ["<=","tinterval","tinterval","bool"],
    [">=","tinterval","tinterval","bool"],
    ["*","money","float4","money"],
    ["/","money","float4","money"],
    ["*","float4","money","money"],
    ["=","money","money","bool"],
    ["<>","money","money","bool"],
    ["!=","money","money","bool"],
    ["<","money","money","bool"],
    [">","money","money","bool"],
    ["<=","money","money","bool"],
    [">=","money","money","bool"],
    ["+","money","money","money"],
    ["-","money","money","money"],
    ["*","money","float8","money"],
    ["/","money","float8","money"],
    ["*","money","int4","money"],
    ["/","money","int4","money"],
    ["*","money","int2","money"],
    ["/","money","int2","money"],
    ["*","float8","money","money"],
    ["*","int4","money","money"],
    ["*","int2","money","money"],
    ["/","money","money","float8"],
    ["^","float8","float8","float8"],
    ["+","_aclitem","aclitem","_aclitem"],
    ["-","_aclitem","aclitem","_aclitem"],
    ["@>","_aclitem","aclitem","bool"],
    ["=","aclitem","aclitem","bool"],
    ["@@","","lseg","point"],
    ["@@","","path","point"],
    ["@@","","polygon","point"],
    ["=","bpchar","bpchar","bool"],
    ["~","bpchar","text","bool"],
    ["!~","bpchar","text","bool"],
    ["<>","bpchar","bpchar","bool"],
    ["!=","bpchar","bpchar","bool"],
    ["<","bpchar","bpchar","bool"],
    ["<=","bpchar","bpchar","bool"],
    [">","bpchar","bpchar","bool"],
    [">=","bpchar","bpchar","bool"],
    ["=","anyarray","anyarray","bool"],
    ["<>","anyarray","anyarray","bool"],
    ["!=","anyarray","anyarray","bool"],
    ["<","anyarray","anyarray","bool"],
    [">","anyarray","anyarray","bool"],
    ["<=","anyarray","anyarray","bool"],
    [">=","anyarray","anyarray","bool"],
    ["+","date","interval","timestamp"],
    ["-","date","interval","timestamp"],
    ["=","date","date","bool"],
    ["<>","date","date","bool"],
    ["!=","date","date","bool"],
    ["<","date","date","bool"],
    ["<=","date","date","bool"],
    [">","date","date","bool"],
    [">=","date","date","bool"],
    ["-","date","date","int4"],
    ["+","date","int4","date"],
    ["-","date","int4","date"],
    ["=","time","time","bool"],
    ["<>","time","time","bool"],
    ["!=","time","time","bool"],
    ["<","time","time","bool"],
    ["<=","time","time","bool"],
    [">","time","time","bool"],
    [">=","time","time","bool"],
    ["=","timetz","timetz","bool"],
    ["<>","timetz","timetz","bool"],
    ["!=","timetz","timetz","bool"],
    ["<","timetz","timetz","bool"],
    ["<=","timetz","timetz","bool"],
    [">","timetz","timetz","bool"],
    [">=","timetz","timetz","bool"],
    ["+","float4","float8","float8"],
    ["-","float4","float8","float8"],
    ["/","float4","float8","float8"],
    ["*","float4","float8","float8"],
    ["=","float4","float8","bool"],
    ["<>","float4","float8","bool"],
    ["!=","float4","float8","bool"],
    ["<","float4","float8","bool"],
    [">","float4","float8","bool"],
    ["<=","float4","float8","bool"],
    [">=","float4","float8","bool"],
    ["+","float8","float4","float8"],
    ["-","float8","float4","float8"],
    ["/","float8","float4","float8"],
    ["*","float8","float4","float8"],
    ["=","float8","float4","bool"],
    ["<>","float8","float4","bool"],
    ["!=","float8","float4","bool"],
    ["<","float8","float4","bool"],
    [">","float8","float4","bool"],
    ["<=","float8","float4","bool"],
    [">=","float8","float4","bool"],
    ["~~","name","text","bool"],
    ["!~~","name","text","bool"],
    ["~~","text","text","bool"],
    ["!~~","text","text","bool"],
    ["~~","bpchar","text","bool"],
    ["!~~","bpchar","text","bool"],
    ["~*","name","text","bool"],
    ["!~*","name","text","bool"],
    ["~*","text","text","bool"],
    ["!~*","text","text","bool"],
    ["~*","bpchar","text","bool"],
    ["!~*","bpchar","text","bool"],
    ["=","timestamptz","timestamptz","bool"],
    ["<>","timestamptz","timestamptz","bool"],
    ["!=","timestamptz","timestamptz","bool"],
    ["<","timestamptz","timestamptz","bool"],
    ["<=","timestamptz","timestamptz","bool"],
    [">","timestamptz","timestamptz","bool"],
    [">=","timestamptz","timestamptz","bool"],
    ["+","timestamptz","interval","timestamptz"],
    ["-","timestamptz","timestamptz","interval"],
    ["-","timestamptz","interval","timestamptz"],
    ["=","interval","interval","bool"],
    ["<>","interval","interval","bool"],
    ["!=","interval","interval","bool"],
    ["<","interval","interval","bool"],
    ["<=","interval","interval","bool"],
    [">","interval","interval","bool"],
    [">=","interval","interval","bool"],
    ["-","","interval","interval"],
    ["+","interval","interval","interval"],
    ["-","interval","interval","interval"],
    ["+","date","time","timestamp"],
    ["+","date","timetz","timestamptz"],
    ["+","time","date","timestamp"],
    ["+","timetz","date","timestamptz"],
    ["-","time","time","interval"],
    ["@@","","circle","point"],
    ["=","circle","circle","bool"],
    ["<>","circle","circle","bool"],
    ["!=","circle","circle","bool"],
    ["<","circle","circle","bool"],
    [">","circle","circle","bool"],
    ["<=","circle","circle","bool"],
    [">=","circle","circle","bool"],
    ["<<","circle","circle","bool"],
    ["&<","circle","circle","bool"],
    ["&>","circle","circle","bool"],
    [">>","circle","circle","bool"],
    ["<@","circle","circle","bool"],
    ["@>","circle","circle","bool"],
    ["~=","circle","circle","bool"],
    ["&&","circle","circle","bool"],
    ["|>>","circle","circle","bool"],
    ["<<|","circle","circle","bool"],
    ["+","circle","point","circle"],
    ["-","circle","point","circle"],
    ["*","circle","point","circle"],
    ["/","circle","point","circle"],
    ["<->","circle","circle","float8"],
    ["#","","polygon","int4"],
    ["<->","point","circle","float8"],
    ["<->","circle","point","float8"],
    ["<->","point","polygon","float8"],
    ["<->","polygon","point","float8"],
    ["<->","circle","polygon","float8"],
    ["<->","line","box","float8"],
    ["?#","lseg","lseg","bool"],
    ["?||","lseg","lseg","bool"],
    ["?-|","lseg","lseg","bool"],
    ["?-","","lseg","bool"],
    ["?|","","lseg","bool"],
    ["=","lseg","lseg","bool"],
    ["#","lseg","lseg","point"],
    ["?#","lseg","line","bool"],
    ["?#","lseg","box","bool"],
    ["?#","line","box","bool"],
    ["<@","point","line","bool"],
    ["<@","point","lseg","bool"],
    ["<@","lseg","line","bool"],
    ["<@","lseg","box","bool"],
    ["##","point","line","point"],
    ["##","point","lseg","point"],
    ["##","point","box","point"],
    ["##","lseg","line","point"],
    ["##","lseg","box","point"],
    ["##","line","box","point"],
    ["##","line","lseg","point"],
    ["##","lseg","lseg","point"],
    ["*","interval","float8","interval"],
    ["*","float8","interval","interval"],
    ["/","interval","float8","interval"],
    ["<>","lseg","lseg","bool"],
    ["!=","lseg","lseg","bool"],
    ["<","lseg","lseg","bool"],
    ["<=","lseg","lseg","bool"],
    [">","lseg","lseg","bool"],
    [">=","lseg","lseg","bool"],
    ["@-@","","lseg","float8"],
    ["?#","line","line","bool"],
    ["?||","line","line","bool"],
    ["?-|","line","line","bool"],
    ["?-","","line","bool"],
    ["?|","","line","bool"],
    ["=","line","line","bool"],
    ["#","line","line","point"],
    ["=","macaddr","macaddr","bool"],
    ["<>","macaddr","macaddr","bool"],
    ["!=","macaddr","macaddr","bool"],
    ["<","macaddr","macaddr","bool"],
    ["<=","macaddr","macaddr","bool"],
    [">","macaddr","macaddr","bool"],
    [">=","macaddr","macaddr","bool"],
    ["~","","macaddr","macaddr"],
    ["&","macaddr","macaddr","macaddr"],
    ["|","macaddr","macaddr","macaddr"],
    ["=","inet","inet","bool"],
    ["<>","inet","inet","bool"],
    ["!=","inet","inet","bool"],
    ["<","inet","inet","bool"],
    ["<=","inet","inet","bool"],
    [">","inet","inet","bool"],
    [">=","inet","inet","bool"],
    ["<<","inet","inet","bool"],
    ["<<=","inet","inet","bool"],
    [">>","inet","inet","bool"],
    [">>=","inet","inet","bool"],
    ["&&","inet","inet","bool"],
    ["~","","inet","inet"],
    ["&","inet","inet","inet"],
    ["|","inet","inet","inet"],
    ["+","inet","int8","inet"],
    ["+","int8","inet","inet"],
    ["-","inet","int8","inet"],
    ["-","inet","inet","int8"],
    ["~~*","name","text","bool"],
    ["!~~*","name","text","bool"],
    ["~~*","text","text","bool"],
    ["!~~*","text","text","bool"],
    ["~~*","bpchar","text","bool"],
    ["!~~*","bpchar","text","bool"],
    ["-","","numeric","numeric"],
    ["=","numeric","numeric","bool"],
    ["<>","numeric","numeric","bool"],
    ["!=","numeric","numeric","bool"],
    ["<","numeric","numeric","bool"],
    ["<=","numeric","numeric","bool"],
    [">","numeric","numeric","bool"],
    [">=","numeric","numeric","bool"],
    ["+","numeric","numeric","numeric"],
    ["-","numeric","numeric","numeric"],
    ["*","numeric","numeric","numeric"],
    ["/","numeric","numeric","numeric"],
    ["%","numeric","numeric","numeric"],
    ["^","numeric","numeric","numeric"],
    ["@","","numeric","numeric"],
    ["=","bit","bit","bool"],
    ["<>","bit","bit","bool"],
    ["!=","bit","bit","bool"],
    ["<","bit","bit","bool"],
    [">","bit","bit","bool"],
    ["<=","bit","bit","bool"],
    [">=","bit","bit","bool"],
    ["&","bit","bit","bit"],
    ["|","bit","bit","bit"],
    ["#","bit","bit","bit"],
    ["~","","bit","bit"],
    ["<<","bit","int4","bit"],
    [">>","bit","int4","bit"],
    ["||","varbit","varbit","varbit"],
    ["+","time","interval","time"],
    ["-","time","interval","time"],
    ["+","timetz","interval","timetz"],
    ["-","timetz","interval","timetz"],
    ["=","varbit","varbit","bool"],
    ["<>","varbit","varbit","bool"],
    ["!=","varbit","varbit","bool"],
    ["<","varbit","varbit","bool"],
    [">","varbit","varbit","bool"],
    ["<=","varbit","varbit","bool"],
    [">=","varbit","varbit","bool"],
    ["+","interval","time","time"],
    ["=","int2","int8","bool"],
    ["<>","int2","int8","bool"],
    ["!=","int2","int8","bool"],
    ["<","int2","int8","bool"],
    [">","int2","int8","bool"],
    ["<=","int2","int8","bool"],
    [">=","int2","int8","bool"],
    ["=","int8","int2","bool"],
    ["<>","int8","int2","bool"],
    ["!=","int8","int2","bool"],
    ["<","int8","int2","bool"],
    [">","int8","int2","bool"],
    ["<=","int8","int2","bool"],
    [">=","int8","int2","bool"],
    ["&","int2","int2","int2"],
    ["|","int2","int2","int2"],
    ["#","int2","int2","int2"],
    ["~","","int2","int2"],
    ["<<","int2","int4","int2"],
    [">>","int2","int4","int2"],
    ["&","int4","int4","int4"],
    ["|","int4","int4","int4"],
    ["#","int4","int4","int4"],
    ["~","","int4","int4"],
    ["<<","int4","int4","int4"],
    [">>","int4","int4","int4"],
    ["&","int8","int8","int8"],
    ["|","int8","int8","int8"],
    ["#","int8","int8","int8"],
    ["~","","int8","int8"],
    ["<<","int8","int4","int8"],
    [">>","int8","int4","int8"],
    ["+","","text","double precision"],
    ["-","","double precision","double precision"],
    ["+","","int8","int8"],
    ["+","","int2","int2"],
    ["+","","int4","int4"],
    ["+","","float4","float4"],
    ["+","","float8","float8"],
    ["+","","numeric","numeric"],
    ["=","bytea","bytea","bool"],
    ["<>","bytea","bytea","bool"],
    ["!=","bytea","bytea","bool"],
    ["<","bytea","bytea","bool"],
    ["<=","bytea","bytea","bool"],
    [">","bytea","bytea","bool"],
    [">=","bytea","bytea","bool"],
    ["~~","bytea","bytea","bool"],
    ["!~~","bytea","bytea","bool"],
    ["||","bytea","bytea","bytea"],
    ["=","timestamp","timestamp","bool"],
    ["<>","timestamp","timestamp","bool"],
    ["!=","timestamp","timestamp","bool"],
    ["<","timestamp","timestamp","bool"],
    ["<=","timestamp","timestamp","bool"],
    [">","timestamp","timestamp","bool"],
    [">=","timestamp","timestamp","bool"],
    ["+","timestamp","interval","timestamp"],
    ["-","timestamp","timestamp","interval"],
    ["-","timestamp","interval","timestamp"],
    ["~<~","text","text","bool"],
    ["~<=~","text","text","bool"],
    ["~>=~","text","text","bool"],
    ["~>~","text","text","bool"],
    ["~<~","bpchar","bpchar","bool"],
    ["~<=~","bpchar","bpchar","bool"],
    ["~>=~","bpchar","bpchar","bool"],
    ["~>~","bpchar","bpchar","bool"],
    ["<","date","timestamp","bool"],
    ["<=","date","timestamp","bool"],
    ["=","date","timestamp","bool"],
    [">=","date","timestamp","bool"],
    [">","date","timestamp","bool"],
    ["<>","date","timestamp","bool"],
    ["!=","date","timestamp","bool"],
    ["<","date","timestamptz","bool"],
    ["<=","date","timestamptz","bool"],
    ["=","date","timestamptz","bool"],
    [">=","date","timestamptz","bool"],
    [">","date","timestamptz","bool"],
    ["<>","date","timestamptz","bool"],
    ["!=","date","timestamptz","bool"],
    ["<","timestamp","date","bool"],
    ["<=","timestamp","date","bool"],
    ["=","timestamp","date","bool"],
    [">=","timestamp","date","bool"],
    [">","timestamp","date","bool"],
    ["<>","timestamp","date","bool"],
    ["!=","timestamp","date","bool"],
    ["<","timestamptz","date","bool"],
    ["<=","timestamptz","date","bool"],
    ["=","timestamptz","date","bool"],
    [">=","timestamptz","date","bool"],
    [">","timestamptz","date","bool"],
    ["<>","timestamptz","date","bool"],
    ["!=","timestamptz","date","bool"],
    ["<","timestamp","timestamptz","bool"],
    ["<=","timestamp","timestamptz","bool"],
    ["=","timestamp","timestamptz","bool"],
    [">=","timestamp","timestamptz","bool"],
    [">","timestamp","timestamptz","bool"],
    ["<>","timestamp","timestamptz","bool"],
    ["!=","timestamp","timestamptz","bool"],
    ["<","timestamptz","timestamp","bool"],
    ["<=","timestamptz","timestamp","bool"],
    ["=","timestamptz","timestamp","bool"],
    [">=","timestamptz","timestamp","bool"],
    [">","timestamptz","timestamp","bool"],
    ["<>","timestamptz","timestamp","bool"],
    ["!=","timestamptz","timestamp","bool"],
    ["+","interval","date","timestamp"],
    ["+","interval","timetz","timetz"],
    ["+","interval","timestamp","timestamp"],
    ["+","interval","timestamptz","timestamptz"],
    ["+","int4","date","date"],
    ["<<|","box","box","bool"],
    ["&<|","box","box","bool"],
    ["|&>","box","box","bool"],
    ["|>>","box","box","bool"],
    ["<<|","polygon","polygon","bool"],
    ["&<|","polygon","polygon","bool"],
    ["|&>","polygon","polygon","bool"],
    ["|>>","polygon","polygon","bool"],
    ["&<|","circle","circle","bool"],
    ["|&>","circle","circle","bool"],
    ["&&","anyarray","anyarray","bool"],
    ["@>","anyarray","anyarray","bool"],
    ["<@","anyarray","anyarray","bool"],
    ["||","text","anynonarray","text"],
    ["||","anynonarray","text","text"],
    ["@","polygon","polygon","bool"],
    ["~","polygon","polygon","bool"],
    ["@","box","box","bool"],
    ["~","box","box","bool"],
    ["@","circle","circle","bool"],
    ["~","circle","circle","bool"],
    ["@","point","box","bool"],
    ["@","point","path","bool"],
    ["~","path","point","bool"],
    ["@","point","polygon","bool"],
    ["~","polygon","point","bool"],
    ["@","point","circle","bool"],
    ["~","circle","point","bool"],
    ["@","point","line","bool"],
    ["@","point","lseg","bool"],
    ["@","lseg","line","bool"],
    ["@","lseg","box","bool"],
    ["~","_aclitem","aclitem","bool"],
    ["=","uuid","uuid","bool"],
    ["<>","uuid","uuid","bool"],
    ["!=","uuid","uuid","bool"],
    ["<","uuid","uuid","bool"],
    [">","uuid","uuid","bool"],
    ["<=","uuid","uuid","bool"],
    [">=","uuid","uuid","bool"],
    ["=","pg_lsn","pg_lsn","bool"],
    ["<>","pg_lsn","pg_lsn","bool"],
    ["!=","pg_lsn","pg_lsn","bool"],
    ["<","pg_lsn","pg_lsn","bool"],
    [">","pg_lsn","pg_lsn","bool"],
    ["<=","pg_lsn","pg_lsn","bool"],
    [">=","pg_lsn","pg_lsn","bool"],
    ["-","pg_lsn","pg_lsn","numeric"],
    ["=","anyenum","anyenum","bool"],
    ["<>","anyenum","anyenum","bool"],
    ["!=","anyenum","anyenum","bool"],
    ["<","anyenum","anyenum","bool"],
    [">","anyenum","anyenum","bool"],
    ["<=","anyenum","anyenum","bool"],
    [">=","anyenum","anyenum","bool"],
    ["<","tsvector","tsvector","bool"],
    ["<=","tsvector","tsvector","bool"],
    ["=","tsvector","tsvector","bool"],
    ["<>","tsvector","tsvector","bool"],
    ["!=","tsvector","tsvector","bool"],
    [">=","tsvector","tsvector","bool"],
    [">","tsvector","tsvector","bool"],
    ["||","tsvector","tsvector","tsvector"],
    ["@@","tsvector","tsquery","bool"],
    ["@@","tsquery","tsvector","bool"],
    ["@@@","tsvector","tsquery","bool"],
    ["@@@","tsquery","tsvector","bool"],
    ["<","tsquery","tsquery","bool"],
    ["<=","tsquery","tsquery","bool"],
    ["=","tsquery","tsquery","bool"],
    ["<>","tsquery","tsquery","bool"],
    ["!=","tsquery","tsquery","bool"],
    [">=","tsquery","tsquery","bool"],
    [">","tsquery","tsquery","bool"],
    ["&&","tsquery","tsquery","tsquery"],
    ["||","tsquery","tsquery","tsquery"],
    ["<->","tsquery","tsquery","tsquery"],
    ["!!","","tsquery","tsquery"],
    ["@>","tsquery","tsquery","bool"],
    ["<@","tsquery","tsquery","bool"],
    ["@@","text","text","bool"],
    ["@@","text","tsquery","bool"],
    ["=","record","record","bool"],
    ["<>","record","record","bool"],
    ["!=","record","record","bool"],
    ["<","record","record","bool"],
    [">","record","record","bool"],
    ["<=","record","record","bool"],
    [">=","record","record","bool"],
    ["*=","record","record","bool"],
    ["*<>","record","record","bool"],
    ["*<","record","record","bool"],
    ["*>","record","record","bool"],
    ["*<=","record","record","bool"],
    ["*>=","record","record","bool"],
    ["=","anyrange","anyrange","bool"],
    ["<>","anyrange","anyrange","bool"],
    ["!=","anyrange","anyrange","bool"],
    ["<","anyrange","anyrange","bool"],
    ["<=","anyrange","anyrange","bool"],
    [">=","anyrange","anyrange","bool"],
    [">","anyrange","anyrange","bool"],
    ["&&","anyrange","anyrange","bool"],
    ["@>","anyrange","anyelement","bool"],
    ["@>","anyrange","anyrange","bool"],
    ["<@","anyelement","anyrange","bool"],
    ["<@","anyrange","anyrange","bool"],
    ["<<","anyrange","anyrange","bool"],
    [">>","anyrange","anyrange","bool"],
    ["&<","anyrange","anyrange","bool"],
    ["&>","anyrange","anyrange","bool"],
    ["-|-","anyrange","anyrange","bool"],
    ["+","anyrange","anyrange","anyrange"],
    ["-","anyrange","anyrange","anyrange"],
    ["*","anyrange","anyrange","anyrange"],
    ["->","json","text","json"],
    ["->>","json","text","text"],
    ["->","json","int4","json"],
    ["->>","json","int4","text"],
    ["#>","json","_text","json"],
    ["#>>","json","_text","text"],
    ["->","jsonb","text","jsonb"],
    ["->>","jsonb","text","text"],
    ["->","jsonb","int4","jsonb"],
    ["->>","jsonb","int4","text"],
    ["#>","jsonb","_text","jsonb"],
    ["#>>","jsonb","_text","text"],
    ["=","jsonb","jsonb","bool"],
    ["<>","jsonb","jsonb","bool"],
    ["!=","jsonb","jsonb","bool"],
    ["<","jsonb","jsonb","bool"],
    [">","jsonb","jsonb","bool"],
    ["<=","jsonb","jsonb","bool"],
    [">=","jsonb","jsonb","bool"],
    ["@>","jsonb","jsonb","bool"],
    ["?","jsonb","text","bool"],
    ["?|","jsonb","_text","bool"],
    ["?&","jsonb","_text","bool"],
    ["<@","jsonb","jsonb","bool"],
    ["||","jsonb","jsonb","jsonb"],
    ["-","jsonb","text","jsonb"],
    ["-","double precision","integer","double precision"],
    ["-","jsonb","int4","jsonb"],
    ["#-","jsonb","_text","jsonb"],
    ["and","bool","bool","bool"],
    ["or","bool","bool","bool"],
    ["not","","bool","bool"]
];

// https://www.postgresql.org/docs/current/static/sql-syntax-lexical.html#SQL-PRECEDENCE

let precedence = {
    unary: [
        "+", 
        "-",
        
        /*
        select 
	not false or false,  -- t
	not false or true,  -- t
	not true or false,  -- f
	not true or true,  -- t

	not (false or false),  -- t
	not (false or true),  -- f
	not (true or false),  -- f
	not (true or true)  -- f
         */
        "not"
    ],
    binary: [
        ["^"],
        ["*", "/", "%"],
        ["+", "-"],
        
        // (any other operator)
        [],
        
        // BETWEEN IN LIKE ILIKE SIMILAR
        
        ["<", ">", "=", "<=", ">=", "<>", "!="],
        
        // IS TRUE, IS FALSE, IS NULL, IS DISTINCT FROM, etc
        
        ["and"],
        ["or"]
    ]
};

let othersPrecedenceIndex = precedence.binary
    .findIndex(operators => !operators.length);

let map = {
    binary: {},
    unary: {}
};
operators.forEach(row => {
    let operator = row[0];
    
    let 
        storeMap = map.binary,
        
        left = row[1] || null, 
        right = row[2] || null, 
        result = row[3] || null;
    
    if ( !left || !right ) {
        storeMap = map.unary;
    }
    
    let operatorMap = storeMap[ operator ];
    if ( !operatorMap ) {
        operatorMap = {
            types: []
        };
        
        if ( left && right ) {
            operatorMap.precedence = othersPrecedenceIndex;
        }
        storeMap[ operator ] = operatorMap;
    }
    
    operatorMap.types.push({
        left,
        right,
        result
    });
});

precedence.binary.forEach((operators, precedenceIndex) => {
    operators.forEach(operator => {
        let operatorMap = map.binary[ operator ];
        operatorMap.precedence = precedenceIndex;
    });
});

module.exports = map;
